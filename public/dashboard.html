<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="style.css">

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <script src="firebase.js"></script>
  <script src="auth.js"></script>
</head>

<body onload="checkAuth()">

  <div id="sidebar"></div>

  <main class="page-content">

    <!-- HEADER DASHBOARD -->
    <div class="dashboard-header">
      <h1 id="dashboardTitle">Dashboard</h1>
      <p id="strutturaAttivaNome" class="struttura-label">â€”</p>
    </div>

    <!-- CARDS -->
    <div class="dash-grid">

      <div class="dash-card">
        <span class="icon">ğŸ“…</span>
        <div>
          <h3>Oggi</h3>
          <p>0 prenotazioni</p>
        </div>
      </div>

      <div class="dash-card">
        <span class="icon">ğŸ›ï¸</span>
        <div>
          <h3>Occupate</h3>
          <p>0</p>
        </div>
      </div>

      <div class="dash-card">
        <span class="icon">ğŸ”“</span>
        <div>
          <h3>Libere</h3>
          <p>0</p>
        </div>
      </div>

      <div class="dash-card full">
        <span class="icon">â­ï¸</span>
        <div>
          <h3>Prossimi check-in</h3>
          <p>â€”</p>
        </div>
      </div>

    </div>
  </main>

  <script src="app.js"></script>

  <script>
    // Mostra nome struttura selezionata
    const strutturaId = localStorage.getItem("strutturaAttiva");
    if (strutturaId) {
      db.collection("strutture").doc(strutturaId).get().then(doc => {
        if (doc.exists) {
          document.getElementById("strutturaAttivaNome").textContent =
            "ğŸ“ " + doc.data().nome;
        }
      });
    }
  </script>

</body>
</html>